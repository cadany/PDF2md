# BiddingChecker
## 项目介绍
一个用于处理PDF文档的项目，主要功能是将PDF文档转换为文本，并对包含图片的内容进行OCR识别。

## 功能介绍
* 对PDF文档进行转换，将PDF文档转换为文本文件。
* 对PDF文档中包含的图片进行OCR识别，提取图片中的文字。
* 对转换后的文本文件进行后处理，包括段落间距、字体大小、图片位置等。

### 环境依赖

```
# 安装依赖
pip install -r requirements.txt

# 安装Tesseract OCR (MacOS)
 brew install tesseract
 brew install tesseract-lang

# 安装Tesseract OCR (Linux)
apt install tesseract-ocr
apt install tesseract-lang

```

## 运行项目

```
python main.py --input_path path/to/input.pdf --output_path path/to/output.txt
```

## 测试项目

```
# 测试项目
pytest
```

## 贡献代码

欢迎提交Pull Request来贡献代码。在贡献代码之前，请先阅读并遵守项目的许可证。

## 许可证

 Apache 2.0 License

## 提示词

1、**需求背景**
需要处理一份900多页的PDF文档，文档是由word另存为输出的。文档包括居中的主标题、分级的章节目录、潜入在正文段落或表格的图片、多行多列的表格、包含行合并或列合并的表格、右对齐的落款、仅包含多张图片的章节等格式的内容；

2、**功能描述**
需要将这份PDF转换为文本，并能很好的保留复杂排版，对于包含图片的内容如果PDF文字层没有图片文字，需要使用OCR完成文字提取并插入到对应图片的位置。后续这份提取出的文字需要给大语言模型处理，需要考虑对大语言模型的友好。

3、**技术要求**
* 开发环境基于python3.9.6 ，推荐使用虚拟环境管理依赖。
* 对PDF文档的处理需要认真考虑对PDF文档的格式和内容，避免对文档结构和内容的破坏。
* 确保转换为文本后的文档具有良好的可读性，包括段落间距、字体大小、图片位置等，同时需要考虑对大语言模型的友好，避免对文档内容的误解或错误理解。
* 对文档中包含的表格需要进行高度还原，包括合并单元格、对齐方式、边框等。
* 对文档中包含的图片需要进行高度还原，包括图片位置、大小、比例等。
* 对文档中包含的图片文字需要使用OCR进行提取，并插入到对应图片的位置。
* 输入为PDF文档文件路径、起始页码、结束页码，起止页码没有输入时，默认处理全部页码。输出为转换后的文本文件路径。
* 文档篇幅较大，处理时间可能较长，建议在有足够内存和处理能力的环境下运行。
* 处理过程中需要反馈处理进度，避免处理过程中出现中断。
* OCR考虑扩展性，可支持本地部署的OCR服务，也可支持调用云服务的OCR接口。
* 需要确保转换后的文本文件与原始PDF文档的内容保持一致，避免内容丢失或错误，以及页码不匹配等现象。
* 考虑工程化生产级别的代码质量，包括代码规范、注释、异常处理等。
* 考虑代码的可维护性和可扩展性，方便后续功能的添加和优化。
* 考虑工程化部署，包括Docker化等。
* 考虑工程稳定性，包括异常处理、日志记录等。



